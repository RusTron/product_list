{"version":3,"sources":["variables/index.js","store/index.js","components/Header/Header.jsx","components/Products/Products.jsx","components/Basket/Basket.jsx","App.js","reportWebVitals.js","index.js"],"names":["ADD_PRODUCT","console","log","initialState","products","actionCreator","product","type","payload","store","createStore","state","action","existedProduct","find","item","name","amount","price","sale","sum","Math","floor","kg","percent","Header","className","to","exact","activeClassName","Products","dispatch","useDispatch","current","useSelector","map","i","onClick","value","addProduct","target","Basket","choosenProducts","length","reduce","a","b","App","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1a1b1277.chunk.js","sourcesContent":["export const ADD_PRODUCT = 'ADD_PRODUCT';\n","import { createStore } from 'redux';\nimport { ADD_PRODUCT } from '../variables';\n\nconsole.log(ADD_PRODUCT);\n\nconst initialState = {\n  products: [],\n}\n\nexport const actionCreator = {\n  addProduct: (product) => ({\n    type: ADD_PRODUCT,\n    payload: product,\n  }),\n};\n\nexport const reducer = (state = initialState, action) => {\n  console.log(action);\n  const existedProduct = state.products.find((item) => item.name === action.payload.name);\n  if (existedProduct) {\n    existedProduct.amount += 1\n\n    const { amount, price, sale } = existedProduct;\n\n    if (sale) {\n      existedProduct.sum = amount * price - (Math.floor(amount / sale.kg)\n        * (price * (sale.percent / 100)));\n    } else {\n      existedProduct.sum = amount * price;\n    }\n  }\n\n  switch (action.type) {\n    case ADD_PRODUCT:\n      return existedProduct\n        ? { ...state }\n        : {\n          ...state,\n          products: [...state.products, {\n            ...action.payload,\n            amount: 1,\n            sum: action.payload.price,\n          }],\n        }\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Header.scss';\n\nexport const Header = () => (\n  <header className=\"App-header\">\n    <li className=\"App-title\">\n      <NavLink\n        to=\"/\"\n        exact\n        activeClassName=\"App__active\"\n      >\n        <span>Product</span>\n        <span className=\"App__active--decorator\" />\n      </NavLink>\n    </li>\n    <li className=\"App-title\">\n      <NavLink to=\"/basket\" activeClassName=\"App__active\">\n        <span>Basket</span>\n        <span className=\"App__active--decorator\" />\n      </NavLink>\n    </li>\n  </header>\n);\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { actionCreator } from '../../store';\nimport './Products.scss';\n\nconst products = [\n  { name: 'banan', price: 10, sale: null },\n  { name: 'apple', price: 8, sale: null },\n  { name: 'papaya', price: 10, sale: { kg: 3, percent: 50 } },\n];\n\nexport const Products = () => {\n  const dispatch = useDispatch();\n\n  const addProduct = (value) => {\n    const product = products.find((item) => item.name === value);\n    console.log(product);\n    const action = actionCreator.addProduct(product);\n    dispatch(action);\n  };\n\n  const current = useSelector((state) => console.log(state));\n  console.log(current);\n\n  return (\n    <div className=\"products\">\n      <div className=\"list\">\n        <div className=\"list__title\">Choose goods!</div>\n        <div className=\"list__header\">\n          <span className=\"list__header--number\">#</span>\n          <span className=\"list__header--name\">Name</span>\n          <span className=\"list__header--price\">Price</span>\n          <span className=\"list__header--sale\">Sale</span>\n          <span className=\"list__header--buy\">Buy</span>\n        </div>\n        <div className=\"list__body\">\n          {products.map((product, i) => (\n            <div\n              className=\"list__body--row row\"\n              key={product.name}\n            >\n              <span className=\"row--number\">{i + 1}</span>\n              <span className=\"row--name\">{product.name}</span>\n              <span className=\"row--price\">{`${product.price}$`}</span>\n              <span className=\"row--sale\">\n                {product.sale\n                  ? `Each ${product.sale.kg}kg: -${product.price * (product.sale.percent / 100)}$`\n                  : ''}\n              </span>\n              <button\n                className={product.name}\n                type=\"submit\"\n                onClick={({ target }) => addProduct(target.className)}\n              >\n                Add\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport './Basket.scss';\n\nexport const Basket = () => {\n  const choosenProducts = useSelector((state) => state.products);\n  console.log(choosenProducts);\n\n  return (\n    <div className=\"basket\">\n      <div className=\"basket__title\">Choosen Goods</div>\n      <div className=\"list\">\n        <div className=\"list__header\">\n          <span className=\"list__header--number\">#</span>\n          <span className=\"list__header--name\">Name</span>\n          <span className=\"list__header--price\">Price</span>\n          <span className=\"list__header--sale\">Amount</span>\n          <span className=\"list__header--buy\">Total</span>\n        </div>\n        <div className=\"list__body\">\n          {!choosenProducts.length\n            ? (<div className=\"list__empty\">No products</div>)\n            : (\n              choosenProducts.map((product, i) => (\n                <div\n                  className=\"list__body--row row\"\n                  key={product.name}\n                >\n                  <span className=\"row--number\">{i + 1}</span>\n                  <span className=\"row--name\">{product.name}</span>\n                  <span className=\"row--price\">{`${product.price}$`}</span>\n                  <span className=\"row--sale\">{product.amount}</span>\n                  <span className={product.name}>{product.sum}</span>\n                </div>\n              )))}\n        </div>\n      </div>\n      <div className=\"basket__footer\">\n        <span>\n          {choosenProducts.length > 1\n            ? `You should pay: ${choosenProducts.reduce((a, b) => a + b.sum, 0)}$` // eslint-disable-line\n            : ''}\n        </span>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.scss';\nimport { Header } from './components/Header';\nimport { Products } from './components/Products';\nimport { Basket } from './components/Basket';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <main>\n        <Switch>\n          <Route path=\"/\" exact component={Products} />\n          <Route path=\"/basket\" component={Basket} />\n        </Switch>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS,\n      getFID,\n      getFCP,\n      getLCP,\n      getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport store from './store';\nimport App from './App';\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}